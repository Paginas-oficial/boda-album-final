<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Boda de Asiria & Miguel</title>
    
    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;500;600&family=Pinyon+Script&display=swap" rel="stylesheet">

    <style>
        /* --- Variables Generales --- */
        :root {
            --color-brown-dark: #8B5E3B;
            --color-beige-bg: #F8F5E6;
            --color-dark-brown-bg: #A3775B;
            --color-white: #FFFFFF;
            --font-heading: 'Cinzel', serif;
            --font-body: 'Montserrat', sans-serif;
            --font-script: 'Pinyon Script', cursive;
        }

        body {
            margin: 0;
            padding: 0;
            /* La fuente por defecto para el resto de la p치gina */
            font-family: var(--font-body); 
            background-color: var(--color-white);
        }

        /* --- 1. Secci칩n Hero (Portada) - Sin cambios --- */
        .hero-section {
            position: relative;
            height: 85vh;
            min-height: 600px;
            /* Imagen de fondo: Pareja de espaldas, tonos c치lidos/oscuros */
            background-image: url('https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center; /* Centrado verticalmente */
            align-items: center;
            color: var(--color-white);
        }
        
        .hero-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.4); /* Oscurecer un poco la imagen */
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .hero-title {
            /* Fuente Serif cl치sica similar a la captura */
            font-family: 'Times New Roman', Times, serif; 
            font-size: 6em;
            font-weight: 400; /* Letra normal, no negrita */
            line-height: 1.1;
            margin: 0;
            color: #FFFFFF;
            text-shadow: 1px 1px 10px rgba(0,0,0,0.5);
        }

        /* --- 2. TU NUEVA SECCI칍N DE INVITACI칍N --- */
        /* He adaptado tu CSS para que encaje perfectamente */
        
        .invitation-section-custom {
            background: #a95c37; /* Tu color exacto */
            color: #ffffff;
            font-family: 'Georgia', serif; /* Tu fuente exacta */
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 80px 20px; /* Padding adaptable */
        }

        .invitation-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            width: 100%;
            flex-wrap: wrap; /* Para m칩viles */
        }

        .left, .right {
            flex: 1; /* Ocupan espacio igual */
            padding: 0 40px;
            min-width: 300px; /* Para que no se aplasten */
        }

        .left {
            text-align: right; /* Alineado a la derecha para mirar hacia los anillos */
        }
        
        .right {
            text-align: left; /* Alineado a la izquierda para mirar hacia los anillos */
        }

        .left h1 {
            font-size: 72px;
            line-height: 1.1;
            margin-bottom: 10px;
            margin-top: 0;
            font-weight: 400;
        }

        .left p {
            font-size: 20px;
            line-height: 1.5;
            margin-top: 25px;
        }

        .right h2 {
            font-size: 40px;
            font-weight: 400;
            line-height: 1.3;
            margin-bottom: 20px;
            margin-top: 0;
        }

        .right p {
            font-size: 20px;
            line-height: 1.6;
        }
        .rings {
        width: 220px;
        margin: 0 auto;
        display: block;
    }

        /* Responsive para m칩viles */
        @media (max-width: 900px) {
            .invitation-content {
                flex-direction: column;
                text-align: center;
            }
            .left, .right {
                text-align: center;
                padding: 20px;
            }
            .left h1 { font-size: 50px; }
            .right h2 { font-size: 30px; }
            .rings-wrapper { order: -1; margin-bottom: 20px; } /* Anillos arriba en m칩vil */
        }


        /* --- 3. Secci칩n de Galer칤a y Subida (Estilos Originales) --- */
        .gallery-upload-section {
            padding: 100px 0;
            background-color: var(--color-white);
            text-align: center;
        }

        .container-gallery {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .font-script-style { 
            font-family: var(--font-script); 
            font-size: 2.5em;
            color: var(--color-brown-dark);
        }

        .section-title {
            font-family: var(--font-heading);
            font-size: 3em;
            color: var(--color-brown-dark);
            margin-bottom: 10px;
            font-weight: 400;
        }

        /* Formulario */
        #upload-container {
            background: var(--color-beige-bg);
            padding: 50px;
            border-radius: 2px;
            box-shadow: 0 20px 40px rgba(139, 94, 59, 0.08);
            max-width: 600px;
            margin: 50px auto 70px;
            border: 1px solid #EBE5D0;
            position: relative;
        }
        
        #upload-container::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px;
            background: var(--color-dark-brown-bg);
        }

        .upload-label {
            display: block; margin-bottom: 25px; font-weight: 500; font-size: 1.1em;
            color: var(--color-brown-dark);
        }

        input[type="file"] { display: none; }

        .custom-file-upload {
            border: 2px dashed var(--color-dark-brown-bg);
            display: inline-block; padding: 20px 40px; cursor: pointer; border-radius: 5px;
            font-weight: 600; color: var(--color-dark-brown-bg); transition: all 0.3s;
            background-color: var(--color-white);
        }
        .custom-file-upload:hover { background-color: var(--color-dark-brown-bg); color: var(--color-white); }

        button#submit-btn {
            background-color: var(--color-brown-dark); color: var(--color-white); border: none;
            padding: 18px 50px; border-radius: 50px; cursor: pointer; font-family: var(--font-body);
            font-weight: 600; font-size: 1.1em; letter-spacing: 2px; margin-top: 30px;
            transition: background-color 0.3s, transform 0.2s; text-transform: uppercase;
        }
        button#submit-btn:hover { background-color: #4A2B18; transform: translateY(-2px); }
        button#submit-btn:disabled { background-color: #ccc; cursor: not-allowed; transform: none; }

        /* Grid de la Galer칤a */
        #gallery {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px; margin-top: 50px;
        }

        .gallery-item {
            position: relative; overflow: hidden; border-radius: 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05); background: var(--color-white);
            padding: 15px 15px 50px 15px; transition: transform 0.3s ease; border: 1px solid #eee;
        }
        .gallery-item:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); }

        .gallery-img {
            width: 100%; height: 350px; object-fit: cover; display: block; cursor: pointer;
        }

        .delete-btn {
            position: absolute; top: 25px; right: 25px; background: rgba(255, 255, 255, 0.9);
            color: #b00; border: none; width: 30px; height: 30px; border-radius: 50%;
            cursor: pointer; font-weight: bold; font-size: 1.2em; opacity: 0; transition: opacity 0.3s;
            display: flex; align-items: center; justify-content: center;
        }
        .gallery-item:hover .delete-btn { opacity: 1; }

        /* Modal y Footer */
        .modal { display: none; position: fixed; z-index: 2000; padding-top: 40px; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.95); }
        .modal-content { margin: auto; display: block; max-width: 90%; max-height: 90vh; object-fit: contain; }
        .close { position: absolute; top: 30px; right: 50px; color: #f1f1f1; font-size: 60px; font-weight: 300; cursor: pointer; }
        
        footer {
            background-color: var(--color-brown-dark); color: var(--color-beige-bg);
            text-align: center; padding: 60px 20px;
        }
        footer .footer-names { font-family: var(--font-heading); font-size: 2em; display: block; }
    </style>
</head>
<body>

    <!-- PORTADA -->
    <header class="hero-section">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="hero-title">Asiria & Miguel</h1>
        </div>
    </header>

    <!-- TU NUEVA SECCI칍N DE INVITACI칍N (El c칩digo que me enviaste, integrado) -->
    <section class="invitation-section-custom">
        <div class="invitation-content">
            
            <!-- Lado izquierdo -->
            <div class="left">
                <h1>Nuestra boda<br>se acerca</h1>
                <p>
                    Estamos emocionados de invitarlos<br>
                    a celebrar nuestro matrimonio.<br>
                    Ser치 un fin de semana lleno de<br>
                    amor, alegr칤a y momentos<br>
                    inolvidables.
                </p>
            </div>

            <img class="rings" 
         src="anillos.png" 
         alt="Anillos">


            <!-- Lado derecho -->
            <div class="right">
                <h2>Estamos encantados de invitarte<br>
                a celebrar nuestro matrimonio</h2>

                <p>
                    Para nosotros es muy importante guardar cada<br>
                    momento. Ay칰danos a crear el 치lbum digital de<br>
                    nuestra boda compartiendo tus mejores fotos y<br>
                    recuerdos del gran d칤a en esta p치gina.
                </p>
            </div>

        </div>
    </section>

    <!-- SECCI칍N DE GALER칈A -->
    <section class="gallery-upload-section">
        <div class="container-gallery">
            <p class="font-script-style">Capturando el amor</p>
            <h2 class="section-title">Galer칤a de Recuerdos</h2>
            
            <div id="upload-container">
                <form id="upload-form">
                    <label class="upload-label">Comparte tu foto favorita con los novios:</label>
                    
                    <label class="custom-file-upload">
                        <input type="file" id="photo-input" name="photo" accept="image/*" required>
                        游닝 SELECCIONAR FOTO
                    </label>
                    
                    <div id="file-name-display" style="margin-top: 15px; color: #666; font-style: italic; min-height: 20px;"></div>
                    
                    <button type="submit" id="submit-btn">COMPARTIR FOTO</button>
                </form>
            </div>

            <div id="gallery">
                <!-- Las fotos se cargar치n aqu칤 din치micamente -->
            </div>
        </div>
    </section>

    <footer>
        <span class="footer-names">Asiria & Miguel</span>
        <p class="font-script-style" style="color: var(--color-beige-bg); font-size: 1.8em; margin-top: 10px;">Gracias por ser parte de nuestra historia</p>
    </footer>

    <div id="myModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="img01">
    </div>

    <!-- JAVASCRIPT FUNCIONAL -->
    <script>
        // TU URL DE RENDER
        const API_URL = 'https://servidor-boda-asiria.onrender.com'; 

        const uploadForm = document.getElementById('upload-form');
        const photoInput = document.getElementById('photo-input');
        const fileNameDisplay = document.getElementById('file-name-display');
        const submitBtn = document.getElementById('submit-btn');
        const gallery = document.getElementById('gallery');
        const modal = document.getElementById("myModal");
        const modalImg = document.getElementById("img01");
        const span = document.getElementsByClassName("close")[0];

        photoInput.addEventListener('change', function() {
            if (this.files && this.files[0]) {
                fileNameDisplay.textContent = "Archivo seleccionado: " + this.files[0].name;
                fileNameDisplay.style.color = "#27ae60";
            } else { fileNameDisplay.textContent = ""; }
        });

        uploadForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const file = photoInput.files[0];
            if(!file) return;
            const formData = new FormData();
            formData.append('photo', file);
            const originalBtnText = submitBtn.innerText;
            submitBtn.innerText = 'SUBIENDO...';
            submitBtn.style.backgroundColor = "#666";
            submitBtn.disabled = true;
            try {
                const res = await fetch(`${API_URL}/upload`, { method: 'POST', body: formData });
                const data = await res.json();
                if(data.success) {
                    alert('춰Gracias! Tu foto se ha a침adido al 치lbum.');
                    addPhotoToGallery(data.filePath);
                    uploadForm.reset();
                    fileNameDisplay.textContent = '';
                } else { alert('Error: ' + data.message); }
            } catch (err) { console.error(err); alert('Error de conexi칩n.'); }
            finally { submitBtn.innerText = originalBtnText; submitBtn.style.backgroundColor = ""; submitBtn.disabled = false; }
        });

        async function loadPhotos() {
            try {
                const res = await fetch(`${API_URL}/photos`);
                if (!res.ok) throw new Error('Error al obtener fotos');
                const photos = await res.json();
                gallery.innerHTML = '';
                photos.forEach(url => addPhotoToGallery(url));
            } catch (err) { console.error(err); }
        }

        async function deletePhoto(filename, div, event) {
            event.stopPropagation();
            const password = prompt("Introduce la contrase침a para eliminar:");
            if(!password) return;
            try {
                const res = await fetch(`${API_URL}/delete/${filename}`, {
                    method: 'DELETE',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password })
                });
                const data = await res.json();
                if(data.success) { div.remove(); alert('Foto eliminada.'); }
                else { alert(data.message); }
            } catch (err) { alert('Error de conexi칩n.'); }
        }

        function addPhotoToGallery(url) {
            const filename = url.split('/').pop();
            const div = document.createElement('div');
            div.className = 'gallery-item';
            const img = document.createElement('img');
            img.src = url; img.className = 'gallery-img'; img.alt = "Recuerdo";
            img.onclick = () => { modal.style.display = "block"; modalImg.src = url; };
            const btn = document.createElement('button');
            btn.innerHTML = '&times;'; btn.className = 'delete-btn';
            btn.onclick = (e) => deletePhoto(filename, div, e);
            div.appendChild(img); div.appendChild(btn);
            gallery.prepend(div);
        }
        span.onclick = () => modal.style.display = "none";
        window.onclick = (e) => { if(e.target == modal) modal.style.display = "none"; }
        window.onload = loadPhotos;
    </script>
</body>
</html>
